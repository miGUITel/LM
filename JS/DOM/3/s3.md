### Sesión 3 — Creación y eliminación de elementos del DOM

**Objetivo conceptual:** entender que JavaScript no solo cambia lo que existe, sino que puede **crear contenido nuevo y eliminarlo dinámicamente**.

---

## 1) Punto de partida: todo sigue siendo DOM

Comenzamos recordando algo fundamental que ya deberían tener claro a estas alturas:

* En la sesión 1 aprendimos a **localizar** elementos del DOM.
* En la sesión 2 aprendimos a **modificar su contenido y atributos**.
* En esta sesión damos un paso más: **crear y eliminar nodos del DOM**.

La idea clave que conviene verbalizar desde el principio es esta:

> El DOM no es fijo: JavaScript puede construirlo y desmontarlo mientras la página está abierta.

Esto explica el funcionamiento de muchas interfaces reales:

* listas de tareas,
* comentarios que aparecen,
* mensajes que se borran,
* resultados que se regeneran.

---

## 2) Crear elementos: generar nodos nuevos

### `document.createElement()`

Para crear un elemento nuevo usamos `createElement()`.
Este método **no lo coloca aún en la página**, solo lo crea en memoria.

```js
const li = document.createElement("li");
```

En este momento:

* el elemento existe,
* pero **no se ve**, porque no forma parte del árbol del DOM.

---

### Dar contenido al elemento creado

Una vez creado, se le puede asignar texto, atributos o clases, igual que a cualquier otro elemento seleccionado.

```js
li.textContent = "Nuevo elemento creado con JavaScript";
```

Aquí es importante insistir en que:

* un elemento creado con JavaScript **es igual** que uno escrito en HTML,
* a partir de ahora se puede modificar, estilizar o eliminar.

---

## 3) Insertar elementos en el DOM

Para que el elemento aparezca en la página, hay que **insertarlo dentro de otro elemento del DOM**.

### `appendChild()`

El método más sencillo es `appendChild()`:

* añade el nuevo elemento como **último hijo** del contenedor.

```js
lista.appendChild(li);
```

Ahora sí:

* el elemento pasa a formar parte del árbol,
* el navegador lo renderiza,
* el usuario lo ve en pantalla.

Conviene remarcar la relación padre–hijo:

* el contenedor es el padre,
* el nuevo elemento es su hijo.

---

## 4) Eliminar elementos del DOM

Tan importante como crear es **eliminar**.

### `remove()`

El método `remove()` elimina un nodo directamente del DOM.

```js
li.remove();
```

Tras esto:

* el elemento deja de existir en el árbol,
* desaparece de la página,
* no se puede volver a seleccionar (salvo que lo recreemos).

---

### Diferencia entre ocultar y eliminar

Conviene dejar clara esta diferencia conceptual:

* **Ocultar**: el elemento sigue en el DOM, pero no se ve (CSS).
* **Eliminar**: el elemento desaparece del DOM.

En esta sesión nos centramos en **eliminar**, no en ocultar.

---

## 5) Patrón típico: crear → usar → eliminar

La mayoría de ejemplos reales siguen siempre la misma lógica:

1. Selecciono un contenedor.
2. Creo un nuevo elemento.
3. Le doy contenido.
4. Lo inserto.
5. Más adelante, lo elimino.

Este patrón se repetirá constantemente en sesiones posteriores.

---

# Demostración final: lista de avisos dinámica

Una demo muy natural como continuación de la sesión 2:
una página donde se pueden **añadir avisos** y **eliminar el último**.

Sirve para mostrar claramente:

* creación de elementos,
* inserción en el DOM,
* eliminación controlada.

---

## `index.html` [visitar](./index.html)

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Creación y eliminación de elementos</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container">
    <h1>Panel de avisos</h1>

    <section class="panel">
      <p class="descripcion">
        Los avisos se crean y eliminan dinámicamente desde JavaScript.
      </p>

      <div class="botonera">
        <button id="btnCrear">Añadir aviso</button>
        <button id="btnEliminar">Eliminar último aviso</button>
      </div>
    </section>

    <section class="panel">
      <h2>Avisos</h2>
      <ul id="listaAvisos" class="lista">
        <li>Aviso inicial (HTML)</li>
      </ul>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
```

---

## `style.css`

```css
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 30px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

.panel {
  background: white;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #ddd;
  margin-bottom: 20px;
}

.descripcion {
  margin-bottom: 16px;
}

.botonera button {
  padding: 10px 14px;
  margin-right: 10px;
  border-radius: 6px;
  border: 1px solid #bbb;
  cursor: pointer;
}

.botonera button:hover {
  background: #f0f0f0;
}

.lista li {
  padding: 8px 0;
  border-bottom: 1px dashed #ccc;
}
```

---

## `app.js`

```js
// Selección del contenedor
const lista = document.querySelector("#listaAvisos");

// Botones
const btnCrear = document.querySelector("#btnCrear");
const btnEliminar = document.querySelector("#btnEliminar");

let contador = 1;

btnCrear.addEventListener("click", () => {
  // 1. Crear el elemento
  const li = document.createElement("li");

  // 2. Darle contenido
  li.textContent = `Aviso creado con JavaScript #${contador}`;
  contador++;

  // 3. Insertarlo en el DOM
  lista.appendChild(li);
});

btnEliminar.addEventListener("click", () => {
  // Seleccionamos el último aviso
  const ultimo = lista.querySelector("li:last-child");

  if (ultimo) {
    // 4. Eliminar del DOM
    ultimo.remove();
  }
});
```

---

## Cómo cerrar la sesión en clase

Ideas para reforzar el aprendizaje:

* Mostrar que el HTML **no contiene** los avisos nuevos.
* Preguntar:

  * *¿Dónde se crea el elemento?*
  * *¿Cuándo pasa a formar parte del DOM?*
  * *¿Qué ocurre cuando se elimina?*
* Volver a insistir en la idea central:

> JavaScript no solo modifica lo que hay: puede construir y desmontar el documento mientras el usuario interactúa.

