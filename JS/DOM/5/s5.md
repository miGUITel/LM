### Sesión 5 — Eventos en JavaScript

**Objetivo conceptual:** entender que los **eventos** son el mecanismo que permite a JavaScript **reaccionar a las acciones del usuario** y ejecutar cambios sobre el DOM.

---

## 1) Qué es un evento

Hasta ahora hemos modificado el DOM “a voluntad” desde el código.
En una web real, sin embargo, **los cambios ocurren porque el usuario hace algo**:

* pulsa un botón,
* pasa el ratón por encima,
* escribe en un campo,
* envía un formulario.

Cada una de esas acciones genera un **evento**.

> Un evento es una señal que emite el navegador cuando ocurre algo relevante en la página.

JavaScript puede:

1. **Escuchar** ese evento.
2. **Ejecutar una función** cuando ocurre.

---

## 2) `addEventListener`: la forma estándar de trabajar con eventos

La forma moderna y correcta de asociar eventos es:

```js
elemento.addEventListener("tipoDeEvento", funcion);
```

Ejemplo general:

```js
boton.addEventListener("click", () => {
  // código que se ejecuta al hacer click
});
```

Puntos importantes para el alumnado:

* El evento no se ejecuta al cargar la página.
* Se ejecuta **solo cuando ocurre la acción**.
* La función define qué cambios se hacen en el DOM.

---

## 3) Evento `click`

### Qué es

Se dispara cuando el usuario **hace clic** sobre un elemento.

### Uso típico

* Botones
* Enlaces
* Cajas interactivas
* Elementos de una lista

### Ejemplo conceptual

```js
boton.addEventListener("click", () => {
  mensaje.textContent = "Has hecho click";
});
```

Idea clave:

> El evento `click` es el punto de entrada más habitual para iniciar cambios en el DOM.

---

## 4) Eventos `mouseover` y `mouseout`

### Qué son

* `mouseover`: se dispara cuando el ratón **entra** en un elemento.
* `mouseout`: se dispara cuando el ratón **sale** del elemento.

### Uso típico

* Resaltar elementos
* Mostrar información adicional
* Cambiar estilos al pasar el ratón

### Ejemplo conceptual

```js
caja.addEventListener("mouseover", () => {
  caja.classList.add("resaltado");
});

caja.addEventListener("mouseout", () => {
  caja.classList.remove("resaltado");
});
```

Idea clave:

> Estos eventos permiten responder al movimiento del ratón sin hacer clic.

Son muy útiles para entender que **no todos los eventos dependen de botones**.

---

## 5) Evento `submit`

### Qué es

Se dispara cuando el usuario **envía un formulario**.

Por defecto, al enviar un formulario:

* el navegador recarga la página,
* se envían los datos.

En muchas webs modernas **esto se evita** para validar datos o mostrar mensajes.

---

### `event.preventDefault()`

Cuando trabajamos con `submit`, aparece una instrucción nueva y muy importante:

```js
event.preventDefault();
```

Sirve para:

* impedir el comportamiento por defecto del navegador,
* controlar nosotros lo que ocurre.

Ejemplo conceptual:

```js
formulario.addEventListener("submit", (event) => {
  event.preventDefault();
  mensaje.textContent = "Formulario enviado correctamente";
});
```

Idea clave:

> `submit` permite controlar formularios sin recargar la página.

---

## 6) Todos los eventos responden al mismo patrón

Conviene cerrar la parte teórica reforzando esta estructura mental única:

1. Selecciono un elemento.
2. Escucho un evento.
3. El evento dispara una función.
4. La función modifica el DOM.

Esto es válido para:

* `click`
* `mouseover`
* `mouseout`
* `submit`

---

# Demostración final: eventos que modifican el DOM

Una demo única que integra:

* `click`
* `mouseover` / `mouseout`
* `submit`

Todo sobre elementos que ya saben seleccionar y modificar.

---

## `index.html` [visitar](./index.html)

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eventos en JavaScript</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container">
    <h1>Eventos y DOM</h1>

    <section class="panel">
      <h2>Evento click</h2>
      <button id="btnClick">Haz click</button>
      <p id="mensajeClick">Esperando acción…</p>
    </section>

    <section class="panel">
      <h2>Eventos mouseover / mouseout</h2>
      <div id="caja" class="caja">
        Pasa el ratón por aquí
      </div>
    </section>

    <section class="panel">
      <h2>Evento submit</h2>
      <form id="formulario">
        <input type="text" id="nombre" placeholder="Escribe tu nombre" />
        <button type="submit">Enviar</button>
      </form>
      <p id="mensajeForm"></p>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
```

---

## `style.css`

```css
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 30px;
}

.container {
  max-width: 700px;
  margin: 0 auto;
}

.panel {
  background: white;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #ddd;
  margin-bottom: 20px;
}

button {
  padding: 8px 14px;
  border-radius: 6px;
  border: 1px solid #bbb;
  cursor: pointer;
}

.caja {
  margin-top: 10px;
  padding: 20px;
  border: 2px dashed #999;
  text-align: center;
  border-radius: 6px;
}

.resaltado {
  background: #fff3cd;
  border-color: #ffecb5;
}
```

---

## `app.js`

```js
// CLICK
const btnClick = document.querySelector("#btnClick");
const mensajeClick = document.querySelector("#mensajeClick");

btnClick.addEventListener("click", () => {
  mensajeClick.textContent = "Has hecho click en el botón";
});

// MOUSEOVER / MOUSEOUT
const caja = document.querySelector("#caja");

caja.addEventListener("mouseover", () => {
  caja.classList.add("resaltado");
});

caja.addEventListener("mouseout", () => {
  caja.classList.remove("resaltado");
});

// SUBMIT
const formulario = document.querySelector("#formulario");
const nombreInput = document.querySelector("#nombre");
const mensajeForm = document.querySelector("#mensajeForm");

formulario.addEventListener("submit", (event) => {
  event.preventDefault();

  mensajeForm.textContent = `Formulario enviado. Hola, ${nombreInput.value}`;
});
```

---

## Cierre didáctico de la UT

Ideas para cerrar la unidad con el alumnado:

* Todos los cambios del DOM han ocurrido **por eventos**.
* El mismo patrón se repite siempre.
* Ya saben:

  * seleccionar elementos,
  * modificar contenido,
  * crear y eliminar nodos,
  * cambiar estilos,
  * reaccionar a acciones del usuario.

Cierre conceptual claro:

> JavaScript convierte una página web estática en una página interactiva
> escuchando eventos y modificando el DOM en respuesta a ellos.


